function d(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function l(r){return r=r.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),r.charAt(0).toLowerCase()+r.slice(1)}function a(r,e){return r.matches(e)?r:r.querySelector(e)}function c(r,e){let t=[];return r.matches(e)&&t.push(r),t.push(...Array.from(r.querySelectorAll(e))),t}var o=class{element;initialized=!1;DOM={};controllerName;controllerKebabName;constructor(e){this.element=e,this.controllerName=l(this.getControllerName()),this.controllerKebabName=d(this.controllerName),this.init()}init(){this.initialized||(this.connect(),this.setupActions(),this.initialized=!0)}initializeDOM(e){return this.DOM={el:this.element,...e},e}getDOMElement(e){return Array.isArray(this.DOM[e])?this.DOM[e][0]:this.DOM[e]}getDOMArray(e){let t=this.DOM[e];return t?Array.isArray(t)?t:[t]:[]}getTarget(e,t){let n=t||this.element,s=`[data-${this.controllerKebabName}-target="${e}"]`;return a(n,s)}getTargets(e,t){let n=t||this.element;return c(n,`[data-${this.controllerKebabName}-target="${e}"]`)}getGlobalTarget(e){return document.querySelector(`[data-${this.controllerKebabName}-target="${e}"]`)}setupActions(){c(this.element,"[data-action]").forEach(t=>{let n=t.getAttribute("data-action");if(n){let[s,i]=n.split("->"),[g,h]=i.split("#");if(g===this.controllerKebabName){let u=this[h];typeof u=="function"&&t.addEventListener(s,m=>{let f=this.extractActionParams(t);m.params=f,u.call(this,m)})}}})}extractActionParams(e){let t={};for(let[n,s]of Object.entries(e.dataset))if(n.startsWith(this.controllerName)&&n.endsWith("Param")){let i=l(n.slice(this.controllerName.length,-5));t[i]=this.parseParamValue(s)}return t}parseParamValue(e){if(e==null||e.trim()==="")return"";let t=e.trim();if(/^(true|false)$/i.test(t))return t.toLowerCase()==="true";if(/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/.test(t)){let n=Number(t);if(!Number.isNaN(n)&&Number.isFinite(n))return n}if(/^(null|undefined)$/i.test(t))return t.toLowerCase()==="null"?null:void 0;if(/^[{[]/.test(t)||/^".*"$/.test(t))try{return JSON.parse(t)}catch{}return e}getValue(e,t){let n=`data-${this.controllerKebabName}-${e}-value`,s=t||this.element,i=a(s,`[${n}]`);return i&&i.getAttribute(n)||""}setValue(e,t,n){let s=`data-${this.controllerKebabName}-${e}-value`;(n||this.element).setAttribute(s,t)}hasValue(e,t){let n=`data-${this.controllerKebabName}-${e}-value`,s=t||this.element;return a(s,`[${n}]`)!==null}on(e,t){document.addEventListener(e,t)}dispatch(e,t={}){let n=new CustomEvent(e,{detail:t,bubbles:!0});document.dispatchEvent(n)}getControllerName(){return this.constructor.name.replace(/^_/,"").replace(/Controller$/,"")}};var p=class extends o{connect(){}focus(e){e.target.select()}};export{p as BreadcrumbController};
