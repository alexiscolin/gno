function T(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function C(n){return n=n.replace(/-([a-z])/g,(c,f)=>f.toUpperCase()),n.charAt(0).toLowerCase()+n.slice(1)}(()=>{let n="/public/js/controller-",c=new Map,f=async(e,r)=>{if(r.length===0)return;let o=T(e);if(!/^[a-z0-9-]+$/.test(o)){console.error(`\u274C Invalid controller name: ${e}`);return}let l=C(e),a=l.charAt(0).toUpperCase()+l.slice(1),s=`${n}${o}.js`,u=c.get(s);u||(u=import(s),c.set(s,u));let p;try{p=await u}catch(t){c.delete(s),console.error(`\u274C Failed to load ${s}:`,t);return}let d,m=p.default;if(typeof m=="function")d=/^\s*class\b/.test(Function.prototype.toString.call(m))?i=>new m(i):m;else{let t=p[`${a}Controller`];t&&(d=i=>new t(i))}if(typeof d!="function"){console.error(`\u274C Invalid controller export for ${e}. Expected default or named class "${a}Controller"`);return}let g=`data-controller-initialized-${o}`,E=r.filter(t=>!t.hasAttribute(g));E.length!==0&&E.forEach(t=>{try{d(t),t.setAttribute(g,"1")}catch(i){console.error(`\u274C Controller runtime error for ${e}:`,i,t)}})},L=e=>{let r=new Map;return e.querySelectorAll("[data-controller]").forEach(o=>{let l=o.getAttribute("data-controller");l&&l.split(/\s+/).filter(Boolean).forEach(a=>{let s=r.get(a)||[];s.push(o),r.set(a,s)})}),r},h=async()=>{let e=L(document);e.size!==0&&(await Promise.all(Array.from(e.entries()).map(([r,o])=>f(r,o))),document.dispatchEvent(new CustomEvent("controllers:ready",{detail:{names:Array.from(e.keys())}})))};document.addEventListener("DOMContentLoaded",h)})();
