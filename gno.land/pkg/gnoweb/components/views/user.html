{{ define "renderUser" }}
<aside class="b-sidebar sidebar">
  <div class="b-user-sidebar">
    <div class="user-info">
      <div class="user-avatar">
        <img src="/public/imgs/gnoland.svg" alt="{{ .Username }}'s avatar" />
      </div>
      <div>
        <h1 class="title">
          {{ .Handlename }}
        </h1>
        <p class="subtitle">
          {{ .Username }}
        </p>
      </div>
    </div>

    <a href="#user-contributions-packages" role="button" aria-controls="user-contributions-packages" class="b-btn">
      Contributions
      <span class="b-tag--secondary">
        {{ .PackageCount }}
      </span>
    </a>
</aside>

<md-renderer class="c-realm-view">
  <a href="../r/{{ .Username }}/home" class="b-btn c-with-icon">
    <svg class="c-icon">
      <use href="#ico-realm"></use>
    </svg>
    {{ .Username }}/home
  </a>
  {{ render .Content }}
</md-renderer>

<div class="b-packages" id="user-contributions-packages" data-controller="list"
  class="u-is-loading lg:col-span-7 pb-24 scroll-mt-24 min-h-96 filter-list">
  <h2 class="title">
    Contributions
  </h2>
  <nav class="grid grid-cols-4 gap-3 mb-6 md:pb-2 md:border-b">
    <div
      class="col-span-4 md:col-span-2 flex gap-4 xl:gap-6 font-semibold text-gray-400 text-200 md:text-100 w-auto xl:w-full xl:ml-0 pb-2 border-b md:border-b-0 md:pb-0">
      <label class="relative flex gap-1 items-center cursor-pointer hover:text-gray-600 group">
        <input type="radio" id="contributions-filter-packages" name="contributions-filter" value="packages" checked
          class="peer hidden" />
        All&nbsp;Packages
        <span data-list-target="packages-count"
          class="hidden sm:inline text-gray-600 text-50 font-normal sm:font-semibold rounded-full bg-gray-50 sm:px-2 sm:py-0.5 px-1.5 py-px">
          {{ .PackageCount }}
        </span>
      </label>
      <label class="relative flex gap-1 items-center cursor-pointer hover:text-gray-600 group">
        <input type="radio" id="contributions-filter-realms" name="contributions-filter" value="realms"
          class="peer hidden" />
        <svg class="w-5 h-5 text-gray-300 group-hover:text-gray-600 peer-checked:text-gray-600">
          <use href="#ico-realm"></use>
        </svg>
        Realms
        <span data-list-target="realms-count"
          class="hidden sm:inline text-gray-600 text-50 font-normal sm:font-semibold rounded-full bg-gray-50 sm:px-2 sm:py-0.5 px-1.5 py-px">
          {{ .RealmCount }}
        </span>
      </label>
      <label class="relative flex gap-1 items-center cursor-pointer hover:text-gray-600 group">
        <input type="radio" id="contributions-filter-pures" name="contributions-filter" value="pures"
          class="peer hidden" />

        <svg class="w-5 h-5 text-gray-300 group-hover:text-gray-600 peer-checked:text-gray-600">
          <use href="#ico-pure"></use>
        </svg>
        Pures
        <span data-list-target="pure-count"
          class="hidden sm:inline text-gray-600 text-50 font-normal sm:font-semibold rounded-full bg-gray-50 sm:px-2 sm:py-0.5 px-1.5 py-px">
          {{ .PureCount }}
        </span>
      </label>
    </div>
    <div class="col-span-2 sm:col-span-1 flex gap-3 md:justify-end items-center text-gray-400 text-100">
      <div data-action="change->list#orderChange" class="grid">
        <input type="radio" name="order-mode" value="desc" id="order-desc" class="peer/order-desc hidden" checked />

        <label for="order-asc"
          class="col-start-1 row-start-1 cursor-pointer flex invisible gap-0.5 items-center justify-between peer-checked/order-desc:visible hover:text-gray-600 group">
          <svg class="w-5 h-5 text-gray-300 group-hover:text-gray-600">
            <title>Descending Order</title>
            <use href="#ico-order-desc"></use>
          </svg>
          <span class="md:hidden xxl:inline">Order</span>
        </label>

        <input type="radio" name="order-mode" value="asc" id="order-asc" class="peer/order-asc hidden" />

        <label for="order-desc"
          class="col-start-1 row-start-1 cursor-pointer flex invisible gap-0.5 items-center justify-between peer-checked/order-asc:visible hover:text-gray-600 group">
          <svg class="w-5 h-5 text-gray-300 group-hover:text-gray-600">
            <title>Ascending Order</title>
            <use href="#ico-order-asc"></use>
          </svg>
          <span class="md:hidden xxl:inline">Order</span>
        </label>
      </div>

      <div class="grid" data-action="change->list#displayModeChange">
        <input type="radio" name="display-mode" value="display-grid" id="display-grid" class="peer/grid hidden"
          checked />

        <label for="display-list"
          class="col-start-1 row-start-1 cursor-pointer flex invisible gap-0.5 items-center justify-between peer-checked/grid:visible hover:text-gray-600 group">
          <svg class="w-5 h-5 text-gray-300 group-hover:text-gray-600">
            <title>Grid Display</title>
            <use href="#ico-grid"></use>
          </svg>
          <span class="md:hidden xxl:inline">Grid</span>
        </label>

        <input type="radio" name="display-mode" value="display-list" id="display-list" class="peer/list hidden" />

        <label for="display-grid"
          class="col-start-1 row-start-1 cursor-pointer flex invisible gap-0.5 items-center justify-between peer-checked/list:visible hover:text-gray-600 group">
          <svg class="w-5 h-5 text-gray-300 group-hover:text-gray-600">
            <title>List Display</title>
            <use href="#ico-list"></use>
          </svg>
          <span class="md:hidden xxl:inline">List</span>
        </label>
      </div>
    </div>
    <div class="col-span-2 sm:col-span-3 md:col-span-1 relative flex text-100">
      <label for="packages-search" class="sr-only">Search packages</label>
      <input type="text" id="packages-search" name="packages-search" data-list-target="search-bar"
        data-action="input->list#search"
        class="peer rounded-sm border p-1 outline-none w-full border-l lg:px-2 xl:py-1.5 text-gray-600 focus:border-gray-300 hover:border-gray-300"
        placeholder="" aria-label="Search packages" />
      <span
        class="absolute left-2 top-1/2 -translate-y-1/2 xl:inline hidden peer-placeholder-shown:opacity-100 opacity-0 text-gray-300 pointer-events-none">
        Search Packages
      </span>
      <span
        class="absolute left-2 top-1/2 -translate-y-1/2 xl:hidden inline peer-placeholder-shown:opacity-100 opacity-0 text-gray-300 pointer-events-none">
        Search
      </span>
      <div class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">
        <svg class="w-4 h-4">
          <use href="#ico-search"></use>
        </svg>
      </div>
    </div>
  </nav>
  <div data-list-target="range" class="range text-100 text-gray-600">{{- range .Contributions -}}
    <article data-list-type-value="{{ .Type }}" class="list-item">
      <div class="list-item__content">
        <span class="list-item__title">
          {{ if eq .Type.String "pure" }}
          <svg class="w-5 h-5 text-gray-600">
            <use href="#ico-pure"></use>
          </svg>
          {{ else }}
          <svg class="w-5 h-5 text-gray-600">
            <use href="#ico-realm"></use>
          </svg>
          {{ end }}
          <h3 class="font-bold text-200 overflow-hidden text-ellipsis whitespace-nowrap">
            <a href="{{ .URL }}" class="hover:underline text-green-600" data-list-target="range-title">{{- .Title
              -}}</a>
          </h3>
        </span>
        <p class="list-item__description">
          {{ with .Description }}
          {{ . }}
          {{ else }}
          <a href="{{ .URL }}" class="hover:underline">
            Explore
            {{ .Title }}
            {{ .Type.String }}
          </a>
          {{ end }}
        </p>
      </div>
      {{ if or .Date .Size }}
      <div class="list-item__footer">
        {{ if .Date }}
        <time datetime="{{ .Date.Format " 2006-01-02" }}" class="list-item__date">
          {{ FormatRelativeTime .Date }}
        </time>
        {{ end }}
        {{ if .Size }}
        <span class="list-item__size">{{ .Size }}b</span>
        {{ end }}
      </div>
      {{ end }}
    </article>
    {{ end }}
  </div>
</div>

{{ end }}